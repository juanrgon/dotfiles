# Starship prompt - styled like my old fish prompt
# https://starship.rs/config/

format = """
╭─${custom.holiday}$directory$git_branch$git_status$git_state
╰─${custom.dotfiles} """

# Disable slow/unwanted modules
[aws]
disabled = true

[gcloud]
disabled = true

[nodejs]
disabled = true

[python]
disabled = true

[golang]
disabled = true

[rust]
disabled = true

[package]
disabled = true

# Directory - blue background like old prompt
[directory]
format = "[ $path ]($style)"
style = "bg:blue fg:black"
truncation_length = 3
truncate_to_repo = false

# Git branch - green background
[git_branch]
format = "[ $symbol$branch ]($style)"
style = "bg:green fg:black"
symbol = " "

# Git status - shows all status indicators with counts
[git_status]
format = "[$all_status$ahead_behind ]($style)"
style = "bg:green fg:black"
conflicted = "[=$count](bg:red fg:white bold)"
ahead = "[⇡$count](bg:green fg:black)"
behind = "[⇣$count](bg:green fg:black)"
diverged = "[⇕⇡$ahead_count⇣$behind_count](bg:yellow fg:black)"
untracked = "[?$count](bg:yellow fg:black)"
stashed = "[\\$$count](bg:purple fg:white)"
modified = "[!$count](bg:red fg:white)"
staged = "[+$count](bg:yellow fg:black)"
renamed = "[»$count](bg:yellow fg:black)"
deleted = "[✘$count](bg:red fg:white)"

# Git state - shows rebase/merge/cherry-pick progress
[git_state]
format = "[ $state ($progress_current/$progress_total) ]($style)"
style = "bg:yellow fg:black"
rebase = "REBASING"
merge = "MERGING"
revert = "REVERTING"
cherry_pick = "CHERRY-PICKING"
bisect = "BISECTING"

# Holiday/season emoji (fast compiled binary)
[custom.holiday]
command = "holiday-emoji"
when = "command -v holiday-emoji > /dev/null"
format = "[$output ]($style)"
style = "bg:#ADD8E6"

# Dotfiles sync status indicator
[custom.dotfiles]
command = "dotfiles-status"
when = "command -v dotfiles-status > /dev/null"
format = "[$output]($style)"
style = "yellow"
